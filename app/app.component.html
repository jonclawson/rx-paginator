<div class="container">
  <div class="row" *ngIf="response">
    <div class="col-12">
      <h1>RxPaginator</h1>
    </div>
    <div class="col-6"></div>
    <div class="col-6">
      <button
        class="form-control"
        [ngClass]="{ 'btn btn-danger': hasFilters }"
        (click)="pager.clearFilters()"
      >
        Clear Filters
      </button>
    </div>
    <div class="col-12">
      <table class="table">
        <tr>
          <th>
            <span style="cursor: pointer" (click)="pager.sort('id')">ID</span>
            <input
              class="form-control"
              placeholder="Filter ID"
              (input)="pager.filter('id', filters.id)"
              [(ngModel)]="filters.id"
            />
          </th>
          <th>
            <span style="cursor: pointer" (click)="pager.sort('name')"
              >Name</span
            >
            <input
              class="form-control"
              placeholder="Filter Name"
              (input)="pager.filter('name', filters.name)"
              [(ngModel)]="filters.name"
            />
          </th>
        </tr>

        <tr *ngFor="let hero of response.data">
          <td>
            {{ hero.id }}
          </td>
          <td>
            {{ hero.name }}
          </td>
        </tr>
      </table>
    </div>
    <div class="col-auto">
      <button class="form-control" (click)="pager.prevPage()">Previous</button>
    </div>
    <div class="col-auto" *ngFor="let n of pages; index as i">
      <button
        class="form-control"
        [ngClass]="{ 'btn btn-primary': response.params.page == n }"
        (click)="pager.goToPage(n)"
      >
        {{ n }}
      </button>
    </div>
    <div class="col-auto">
      <button class="form-control" (click)="pager.nextPage()">Next</button>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <br>
      <div class="accordion" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne"
            (click)="show = !show">
              Show Pager Model
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse" 
          [ngClass]="{'show': show}" data-bs-parent="#accordionExample">
            <div class="accordion-body alert alert-secondary">
            <pre class="">{{ response?.params | json }}</pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


